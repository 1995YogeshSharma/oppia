from __future__ import division
from jinja2.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, identity, TemplateNotFound, Namespace
name = 'pages/exploration_editor/feedback_tab/feedback_tab.html'

def root(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    pass
    yield u'<md-card class="oppia-editor-card" ng-controller="FeedbackTab">\n  <div ng-if="!activeThread">\n    <div ng-if="threadData.suggestionThreads.length > 0">\n      <h2>Suggestions from Learners</h2>\n      <thread-table threads="threadData.suggestionThreads"\n                    on-click-row="setActiveThread">\n      </thread-table>\n      <br>\n    </div>\n\n    <div class="pull-right">\n      <button ng-if="userIsLoggedIn" class="btn btn-success pull-right" ng-click="showCreateThreadModal()">\n        Start new thread\n      </button>\n    </div>\n\n    <h2>Exploration Feedback</h2>\n\n    <div style="clear: both;"></div>\n\n    <div ng-if="threadData.feedbackThreads.length === 0">\n      <em>No feedback has been given for this exploration yet.</em>\n    </div>\n\n    <thread-table threads="threadData.feedbackThreads"\n                  on-click-row="setActiveThread">\n    </thread-table>\n\n    <em ng-if="!userIsLoggedIn">To create a new feedback thread, please log in.</em>\n  </div>\n\n  <div ng-if="activeThread">\n    <div class="row">\n      <div class="col-lg-7 col-md-7 col-sm-7">\n        <span class="oppia-back-arrow">\n          <button type="button" class="btn btn-default btn-xs protractor-test-oppia-feedback-back-button" ng-click="clearActiveThread()">\n            <i class="material-icons oppia-vcenter" title="Return to list of feedback threads">&#xE5CB;</i>\n          </button>\n        </span>\n        <span style="font-size: larger" ng-show="!activeThread.isSuggestionThread()">Feedback Thread: <[activeThread.subject]></span>\n        <span style="font-size: larger" ng-show="activeThread.isSuggestionThread()">Suggestion Thread: <[activeThread.subject]></span>\n      </div>\n\n      <div style="float: right;" class="col-lg-5 col-md-5 col-sm-5">\n        <div class="pull-right">\n          <span ng-if="activeThread.stateName" class="label label-info">\n            state: <[activeThread.stateName]>\n          </span>\n          <span ng-class="getLabelClass(activeThread.status)">\n            <[getHumanReadableStatus(activeThread.status)]>\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div class="row" ng-if="activeThread.messages">\n      <div style="margin-top: 10px;" class="col-lg-12 col-md-12 col-sm-12">\n        <table class="table">\n          <tr ng-repeat="m in activeThread.messages|orderBy:\'message_id\'">\n            <td>\n              <div class="row">\n                <div class="col-lg-5 col-md-5 col-sm-5">\n                  <span ng-if="$index !== 0">#<[m.message_id]></span>\n                  <span ng-if="m.author_username">by <strong><[m.author_username]></strong></span>\n                  <span ng-if="!m.author_username">(anonymously submitted)</span>\n                </div>\n\n                <div class="col-lg-4 col-md-4 col-sm-4">\n                  <span ng-if="m.message_id !== 0">\n                    <span ng-if="m.updated_status">\n                      <em>Status changed to \'<[getHumanReadableStatus(m.updated_status)]>\'</em>\n                    </span>\n                    <span ng-if="m.updated_subject">\n                      <em>Subject changed to \'<[m.updated_subject]>\'</em>\n                    </span>\n                  </span>\n                </div>\n\n                <div class="col-lg-3 col-md-3 col-sm-3">\n                  <span><[getLocaleAbbreviatedDatetimeString(m.created_on)]></span>\n                </div>\n              </div>\n\n              <div class="row">\n                <div class="col-lg-12 col-md-12 col-sm-12">\n                  <div style="white-space: pre-wrap;" class="protractor-test-exploration-feedback"><[m.text]></div>\n                  <div ng-if="activeThread.isSuggestionThread() && $index == 0">\n                    <button class="btn btn-<[getSuggestionButtonType()]> protractor-test-view-suggestion-btn" style="margin-top: 6px; margin-bottom: 6px" ng-click="showSuggestionModal()">\n                      View Suggestion\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n\n\n    <hr>\n\n    <div class="row" ng-if="userIsLoggedIn">\n      <div class="col-lg-12 col-md-12 col-sm-12">\n        <div>\n          <label for="tmpMessageText">\n            Add new message\n            <span ng-if="EditabilityService.isEditable() && !activeThread.isSuggestionThread()">(and/or change status)</span>\n          </label>\n          <textarea class="form-control protractor-test-feedback-response-textarea" ng-model="tmpMessage.text"\n                    id="tmpMessageText" rows="6"\n                    ng-disabled="messageSendingInProgress">\n          </textarea>\n        </div>\n\n        <div>\n          <span ng-show="EditabilityService.isEditable() && !activeThread.isSuggestionThread()">\n            Change status (optional):\n            <select ng-model="tmpMessage.status"\n                    ng-options="choice.id as choice.text for choice in STATUS_CHOICES"\n                    ng-disabled="messageSendingInProgress">\n            </select>\n            <div style="color:#ff0000; margin-top: 7px;" ng-if="!tmpMessage.text && (tmpMessage.status === \'ignored\' || tmpMessage.status === \'not_actionable\')">\n              <i class="material-icons">&#xE88F;</i>\n              <span>Please specify a reason for setting the status to <[getHumanReadableStatus(tmpMessage.status)]>.</span>\n            </div>\n          </span>\n        </div>\n\n        <div>\n          <button class="btn btn-success protractor-test-oppia-feedback-response-send-btn" style="margin-top: 10px;"\n                  ng-click="addNewMessage(activeThread.threadId, tmpMessage.text, tmpMessage.status)"\n                  ng-disabled="messageSendingInProgress || (!tmpMessage.text && activeThread.status === tmpMessage.status) || (!tmpMessage.text && (tmpMessage.status === \'ignored\' || tmpMessage.status === \'not_actionable\'))">\n            <span ng-if="messageSendingInProgress">Sending...</span>\n            <span ng-if="!messageSendingInProgress">Send</span>\n          </button>\n        </div>\n      </div>\n    </div>\n    <em ng-if="!userIsLoggedIn">To respond to a feedback thread, please log in.</em>\n  </div>\n</md-card>'

blocks = {}
debug_info = ''