from __future__ import division
from jinja2.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, identity, TemplateNotFound, Namespace
name = 'pages/exploration_player/conversation_skin_directive.html'

def root(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    pass
    yield u'<!--\n  Off-screen preview of the next card in order to pre-determine the target\n  height for the card content transition animation.\n-->\n<div class="conversation-skin-future-tutor-card" aria-hidden="true">\n  <div class="oppia-learner-view-card-content">\n    <div class="oppia-learner-view-card-top-section">\n      <angular-html-bind class="rte-viewer oppia-learner-view-card-top-content"\n                         html-data="upcomingContentHtml">\n      </angular-html-bind>\n    </div>\n\n    <div>\n      <angular-html-bind ng-if="upcomingInlineInteractionHtml"\n                         class="conversation-skin-inline-interaction"\n                         html-data="upcomingInlineInteractionHtml">\n      </angular-html-bind>\n    </div>\n\n    <div ng-if="!upcomingInlineInteractionHtml"\n         class="conversation-skin-inline-interaction">\n      <div style="padding: 6px 12px;">\n        <[upcomingInteractionInstructions]>\n        <i ng-if="canWindowShowTwoCards()" class="material-icons md-18" style="position: relative;">&#xE5C8;</i>\n        <i ng-if="!canWindowShowTwoCards()" class="material-icons md-18" style="position: relative;">&#xE5DB;</i>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div role="main" style="margin: 0 auto; position: relative;" ng-if="hasFullyLoaded">\n  <div class="conversation-skin-cards-container conversation-skin-animate-cards"\n       ng-class="{\'animate-to-two-cards\': isAnimatingToTwoCards, \'animate-to-one-card\': isAnimatingToOneCard}">\n\n    <div class="conversation-skin-tutor-card-container"\n         ng-class="{\'conversation-skin-animate-tutor-card-on-narrow\':\n                      !canWindowShowTwoCards() && isCurrentSupplementalCardNonempty(),\n                    \'conversation-skin-tutor-card-alone\':\n                      !canWindowShowTwoCards() && !isCurrentSupplementalCardNonempty()}">\n      <tutor-card on-submit-answer="submitAnswer(answer, rulesService)"\n                  is-learn-again-button="isLearnAgainButton()"\n                  start-card-change-animation="startCardChangeAnimation"\n                  on-change-interaction-answer-validity="setInteractionAnswerValidity(answerValidity)">\n      </tutor-card>\n      <div ng-if="isCurrentSupplementalCardNonempty() && !canWindowShowTwoCards()">\n        <supplemental-card on-click-continue-button="showUpcomingCard()"\n                           is-learn-again-button="isLearnAgainButton()"\n                           on-submit-answer="submitAnswer(answer, rulesService)">\n        </supplemental-card>\n      </div>\n      <progress-nav on-submit="submitAnswerFromProgressNav()"\n                    is-learn-again-button="isLearnAgainButton()"\n                    submit-button-is-disabled="!interactionAnswerIsValid"\n                    submit-button-is-shown="!answerIsBeingProcessed"\n                    on-click-continue-button="showUpcomingCard()">\n      </progress-nav>\n    </div>\n\n    <div ng-if="isCurrentSupplementalCardNonempty() && canWindowShowTwoCards()"\n         class="conversation-skin-supplemental-card-container">\n      <supplemental-card on-click-continue-button="showUpcomingCard()"\n                         is-learn-again-button="isLearnAgainButton()"\n                         on-submit-answer="submitAnswer(answer, rulesService)">\n      </supplemental-card>\n      <div class="conversation-skin-supplemental-nav" ng-if="isSupplementalNavShown()">\n        <md-button type="submit" class="oppia-learner-confirm-button protractor-test-submit-answer-button conversation-skin-supplemental-nav-submit-button"\n                   ng-click="submitAnswerFromProgressNav()"\n                   ng-disabled="!interactionAnswerIsValid"\n                   translate="I18N_INTERACTIONS_SUBMIT">\n        </md-button>\n      </div>\n    </div>\n  </div>\n  <div class="conversation-skin-correctness-footer-container" ng-if="isCorrectnessFooterEnabled()">\n    <correctness-footer></correctness-footer>\n  </div>\n</div>\n\n<div ng-if="isOnTerminalCard() && isCurrentCardAtEndOfTranscript()"\n     class="conversation-skin-final-summary">\n  <div ng-if="isLoggedIn && !isInPreviewMode" class="conversation-skin-final-ratings">\n    <div class="conversation-skin-final-ratings-header" translate="I18N_PLAYER_RATE_EXPLORATION">\n    </div>\n    <div popover-placement="bottom" uib-popover-template="\'popover/feedback\'" popover-trigger="click">\n      <rating-display rating-value="userRating" is-editable="true" on-edit="submitUserRating"\n                      class="conversation-skin-final-ratings-display">\n      </rating-display>\n    </div>\n  </div>\n\n  <div ng-if="recommendedExplorationSummaries !== null && (collectionSummary || recommendedExplorationSummaries.length > 0)"\n       class="conversation-skin-final-recommendations">\n    <div ng-if="recommendedExplorationSummaries.length > 0">\n      <span ng-if="collectionSummary && !isRefresherExploration" class="conversation-skin-final-recommendations-header"\n            translate="I18N_PLAYER_NEXT_LESSON">\n      </span>\n      <span ng-if="!collectionSummary && !isRefresherExploration" class="conversation-skin-final-recommendations-header"\n            translate="I18N_PLAYER_RECOMMEND_EXPLORATIONS">\n      </span>\n\n      <div class="oppia-exp-summary-tiles-container conversation-skin-recommended-activities-container">\n        <exploration-summary-tile ng-repeat="exp in (recommendedExplorationSummaries|limitTo:3) track by $index"\n                                  collection-id="collectionId"\n                                  exploration-id="exp.id"\n                                  exploration-title="exp.title"\n                                  parent-exploration-ids="parentExplorationIds"\n                                  last-updated-msec="exp.last_updated_msec"\n                                  objective="exp.objective"\n                                  category="exp.category"\n                                  ratings="exp.ratings"\n                                  thumbnail-icon-url="exp.thumbnail_icon_url"\n                                  thumbnail-bg-color="exp.thumbnail_bg_color"\n                                  num-views="exp.num_views"\n                                  is-community-owned="exp.community_owned"\n                                  style="margin-left: 10px;">\n        </exploration-summary-tile>\n      </div>\n\n      <div ng-if="collectionSummary && !isRefresherExploration" class="conversation-skin-back-to-collection-container">\n        <a ng-href="/collection/<[collectionId]>" class="conversation-skin-back-to-collection" translate="I18N_PLAYER_BACK_TO_COLLECTION"></a>\n      </div>\n    </div>\n\n    <div ng-if="collectionSummary && recommendedExplorationSummaries.length === 0">\n      <span class="conversation-skin-final-recommendations-header"\n            translate="I18N_PLAYER_RETURN_TO_COLLECTION"\n            translate-values="{collectionTitle: collectionSummary.title}">\n      </span>\n      <div class="oppia-exp-summary-tiles-container conversation-skin-recommended-activities-container">\n        <collection-summary-tile collection-id="collectionSummary.id"\n                                 collection-title="collectionSummary.title"\n                                 last-updated-msec="collectionSummary.last_updated_msec"\n                                 node-count="collectionSummary.node_count"\n                                 objective="collectionSummary.objective"\n                                 thumbnail-icon-url="collectionSummary.thumbnail_icon_url"\n                                 thumbnail-bg-color="collectionSummary.thumbnail_bg_color"\n                                 style="margin-left: 10px;">\n        </collection-summary-tile>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if="!collectionSummary && !isRefresherExploration" class="conversation-skin-back-to-collection-container">\n    <a ng-href="/library" class="conversation-skin-back-to-collection" translate="I18N_PLAYER_RETURN_TO_LIBRARY"></a>\n  </div>\n</div>\n\n<!-- These styles must be embedded within the directive script tags, since\notherwise they will interfere with the iframed conversation skin directive.\n-->\n<style>\n  /*\n    Note that this affects both the learner mode and the \'editor preview\'\n    mode.\n  */\n  html, body {\n    background: #e8e7e3 no-repeat center center fixed;\n    background-size: cover;\n    color: rgba(0,0,0,0.87);\n    font-family: \'Roboto\', Arial, sans-serif;\n    font-size: 1.0em;\n  }\n\n  /* All classes below should start with .conversation-skin */\n  .conversation-skin-correctness-footer-container {\n    bottom: 40px;\n    padding: 0;\n    position: fixed;\n    width: 100%;\n    z-index: 16;\n  }\n\n  .conversation-skin-back-to-collection-container {\n    margin-bottom: 92px;\n    margin-top: 25px;\n    text-align: center;\n  }\n\n  .conversation-skin-back-to-collection {\n    color: #064b46;\n    text-decoration: underline;\n  }\n\n  .conversation-skin-oppia-avatar, .conversation-skin-user-avatar {\n    height: 36px;\n    position: absolute;\n    top: 0;\n    width: 36px;\n    z-index: 1;\n  }\n  .conversation-skin-oppia-feedback-container .conversation-skin-oppia-avatar {\n    height: 100px;\n    left: -87px;\n    top: -20px;\n    width: 100px;\n  }\n\n  .conversation-skin-cards-container {\n    align-items: flex-start;\n    display: -webkit-flex;\n    display: flex;\n    justify-content: center;\n    margin: 0 auto 40px;\n    max-width: 1400px;\n    padding: 56px 14px;\n    width: 100%;\n  }\n\n  .conversation-skin-tutor-card-container {\n    flex-shrink: 10000;\n    max-width: 650px;\n    /* NOTE TO DEVELOPERS: If min-width is changed, max-width in media query\n       below should be changed to match. */\n    min-width: 360px;\n    width: 100%;\n    z-index: 3;\n  }\n\n  /* Some mobile devices have CSS width below 360px, use a responsive min-width\n     when under 360px to prevent pushing things offscreen. */\n  @media(max-width: 360px) {\n    .conversation-skin-tutor-card-container {\n      min-width: 100vw;\n    }\n  }\n\n  .conversation-skin-future-tutor-card {\n    left: -30000px;\n    max-width: 560px;\n    position: fixed;\n    top: -30000px;\n  }\n\n  .conversation-skin-supplemental-card-container {\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.24), 0 1px 3px rgba(0, 0, 0, 0.12);\n    flex-shrink: 1;\n    margin-left: 12px;\n    width: 650px;\n    position: relative;\n    z-index: 2;\n  }\n\n  /* These rules must be kept in sync with corresponding rules in oppia.css\n     (those with \'.oppia-rte-editor > p,\n       .form-control.oppia-rte-content > div > p\' selectors specifying\n      the same line-height, margin-top and margin-bottom attributes)\n  */\n  .rte-viewer > p {\n    line-height: 28px;\n    margin-bottom: 18px;\n    margin-top: 18px;\n  }\n  .rte-viewer > p:first-child {\n    margin-top: 0px;\n  }\n  .rte-viewer > p:last-child {\n    margin-bottom: 0px;\n  }\n\n  .rte-viewer {\n    border-radius: 2px;\n    display: inline-block;\n    max-width: 100%;\n    position: relative;\n    text-align: left;\n  }\n\n  .conversation-skin-oppia-feedback-content,\n  .conversation-skin-learner-answer-content {\n    margin-bottom: 12px;\n    padding: 8px 12px;\n    word-wrap: break-word;\n  }\n\n\n  .conversation-skin-help-card-content {\n    padding: 12px;\n  }\n\n  .conversation-skin-oppia-feedback-content,\n  .conversation-skin-help-card-content {\n    background-color: rgba(224,242,241,1);\n    border-top-left-radius: 0;\n  }\n\n  .conversation-skin-learner-answer-content {\n    background-color: rgba(236,239,241,1);\n    border-bottom-right-radius: 0;\n  }\n\n\n  /*\n      This CSS block is for ensuring that only a response from a multi-line text input preserves newlines.\n      Leveraging the parent class ".conversation-skin-learner-answer-content" will render newlines in the\n      other interactions (ie; Multiple Choice, Item Selection) which is not necessary.\n  */\n  oppia-response-text-input {\n    white-space: pre-wrap;\n  }\n\n  .conversation-skin-feedback-dot-one,\n  .conversation-skin-feedback-dot-two,\n  .conversation-skin-feedback-dot-three {\n    background-color: #666;\n    display: inline-block;\n    height: 2px;\n    width: 2px;\n  }\n\n  .conversation-skin-feedback-dot-one {\n    -moz-animation: dot 1.0s infinite;\n    -moz-animation-delay: 0.0s;\n    -webkit-animation: dot 1.0s infinite;\n    -webkit-animation-delay: 0.0s;\n    animation: dot 1.0s infinite;\n    animation-delay: 0.0s;\n    opacity: 0;\n  }\n\n  .conversation-skin-feedback-dot-two {\n    -moz-animation: dot 1.0s infinite;\n    -moz-animation-delay: 0.2s;\n    -webkit-animation: dot 1.0s infinite;\n    -webkit-animation-delay: 0.2s;\n    animation: dot 1.0s infinite;\n    animation-delay: 0.2s;\n    opacity: 0;\n  }\n\n  .conversation-skin-feedback-dot-three {\n    -moz-animation: dot 1.0s infinite;\n    -moz-animation-delay: 0.4s;\n    -webkit-animation: dot 1.0s infinite;\n    -webkit-animation-delay: 0.4s;\n    animation: dot 1.0s infinite;\n    animation-delay: 0.4s;\n    opacity: 0;\n  }\n\n  .conversation-skin-final-ratings {\n    text-align: center;\n    margin-bottom: 60px;\n  }\n  .conversation-skin-final-ratings-header {\n    color: #064b46;\n    margin: 20px 0;\n  }\n  .conversation-skin-final-ratings-display {\n    color: #064b46;\n    letter-spacing: 10px;\n  }\n\n  .conversation-skin-final-recommendations {\n    margin-top: 50px;\n    text-align: center;\n  }\n  .conversation-skin-final-recommendations-header {\n    color: #064b46;\n    font-size: 150%;\n  }\n\n  .conversation-skin-oppia-feedback.ng-enter {\n    opacity: 0;\n    -webkit-transition: all .5s;\n    transition: all .5s;\n  }\n  .conversation-skin-oppia-feedback.ng-enter.ng-enter-active {\n    opacity: 1;\n  }\n\n  .conversation-skin-final-summary {\n    margin-bottom: 25px;\n  }\n\n  .conversation-skin-recommended-activities-container {\n    padding-top: 10px;\n  }\n\n  .conversation-skin-supplemental-nav {\n    background: white;\n    height: 32px;\n    position: relative;\n  }\n\n  .conversation-skin-supplemental-nav-submit-button {\n    margin-right: 10px;\n    position: absolute;\n    right: 0;\n    top: -10px;\n  }\n\n  @media screen and (max-width: 959px) {\n    .conversation-skin-cards-container {\n      display: block;\n      padding: 66px 0px;\n      position: relative;\n      width: 100%;\n    }\n\n    .conversation-skin-tutor-card-container {\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.14), 0 2px 4px rgba(0, 0, 0, 0.23);\n      left: 0px;\n      margin: 0 auto;\n      right: 0px;\n      top: 40px;\n      width: 100%;\n      z-index: 15;\n    }\n\n    .conversation-skin-tutor-card-alone {\n      position: relative;\n      top: 0px;\n    }\n\n    .conversation-skin-supplemental-card-container {\n      left: 50%;\n      margin: 0 auto;\n      max-width: 959px;\n      min-width: 360px;\n      position: absolute;\n      transform: translateX(-50%);\n    }\n\n    .conversation-skin-user-avatar,\n    .conversation-skin-oppia-avatar {\n      display: none;\n    }\n\n    .conversation-skin-oppia-avatar.show-tutor-card {\n      border-radius: 50%;\n      box-shadow: 0 3px 3px grey, 0 5px 3px grey;\n      display: block;\n      height: 40px;\n      left: 100%;\n      position: absolute;\n      transform: translate(-100%, -100%);\n      width: 40px;\n      z-index: 16;\n    }\n    .conversation-skin-oppia-avatar.show-tutor-card:hover {\n      opacity: 0.8;\n    }\n\n    .oppia-learner-view-card {\n      padding-bottom: 0;\n      padding-left: 0;\n      margin-left: 0;\n    }\n  }\n</style>'

blocks = {}
debug_info = ''