from __future__ import division
from jinja2.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, identity, TemplateNotFound, Namespace
name = 'pages/collection_player/collection_player.html'

def root(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    parent_template = None
    pass
    parent_template = environment.get_template('pages/base.html', 'pages/collection_player/collection_player.html')
    for name, parent_block in parent_template.blocks.iteritems():
        context.blocks.setdefault(name, []).append(parent_block)
    for event in parent_template.root_render_func(context):
        yield event

def block_footer_js(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    l_0_super = context.super('footer_js', block_footer_js)
    pass
    yield u'\n  %s\n  <script src="/templates/dev/head/pages/collection_player/CollectionPlayer.js"></script>\n  <script src="/templates/dev/head/pages/collection_player/CollectionNodeListDirective.js"></script>\n\n  <script src="/templates/dev/head/domain/collection/CollectionNodeObjectFactory.js"></script>\n  <script src="/templates/dev/head/domain/collection/CollectionObjectFactory.js"></script>\n  <script src="/templates/dev/head/domain/collection/CollectionPlaythroughObjectFactory.js"></script>\n  <script src="/templates/dev/head/domain/collection/GuestCollectionProgressObjectFactory.js"></script>\n  <script src="/templates/dev/head/domain/collection/GuestCollectionProgressService.js"></script>\n  <script src="/templates/dev/head/domain/collection/ReadOnlyCollectionBackendApiService.js"></script>\n  <script src="/templates/dev/head/domain/utilities/BrowserCheckerService.js"></script>\n\n  <script src="/templates/dev/head/domain/objects/FractionObjectFactory.js"></script>\n  <script src="/templates/dev/head/domain/objects/NumberWithUnitsObjectFactory.js"></script>\n  <script src="/templates/dev/head/pages/collection_player/collectionFooterDirective.js"></script>\n  <script src="/templates/dev/head/components/share/SharingLinksDirective.js"></script>\n`  <script src="/templates/dev/head/components/HintAndSolutionButtonsDirective.js"></script>\n  <script src="/templates/dev/head/components/attribution_guide/AttributionGuideDirective.js"></script>\n  <script src="/templates/dev/head/components/embed_modal/ExplorationEmbedButtonService.js"></script>\n  <script src="/templates/dev/head/components/RatingComputationService.js"></script>\n  <script src="/templates/dev/head/components/background/BackgroundBannerDirective.js"></script>\n\n  <script src="/templates/dev/head/components/summary_tile/ExplorationSummaryTileDirective.js"></script>\n  <script src="/templates/dev/head/components/summary_tile/CircularImageDirective.js"></script>\n' % (
        escape(context.call(l_0_super)), 
    )

def block_local_top_nav_options(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    l_0_can_edit = resolve('can_edit')
    l_0_collection_id = resolve('collection_id')
    pass
    yield u'\n  <ul class="nav navbar-nav oppia-navbar-nav navbar-right" style="margin-right: 0px;">\n    '
    if (undefined(name='can_edit') if l_0_can_edit is missing else l_0_can_edit):
        pass
        yield u'\n      <li>\n        <a ng-href="/collection_editor/create/%s" uib-tooltip="Edit" tooltip-placement="bottom" target="_blank">\n          <i class="material-icons">&#xE254;</i>\n          <span class="oppia-icon-accessibility-label">Edit</span>\n        </a>\n      </li>\n    ' % (
            escape((undefined(name='collection_id') if l_0_collection_id is missing else l_0_collection_id)), 
        )
    yield u'\n  </ul>\n'

def block_footer(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    l_0_DEFAULT_TWITTER_SHARE_MESSAGE_PLAYER = resolve('DEFAULT_TWITTER_SHARE_MESSAGE_PLAYER')
    pass
    yield u'\n  <collection-footer twitter-text="%s"></collection-footer>\n' % (
        escape((undefined(name='DEFAULT_TWITTER_SHARE_MESSAGE_PLAYER') if l_0_DEFAULT_TWITTER_SHARE_MESSAGE_PLAYER is missing else l_0_DEFAULT_TWITTER_SHARE_MESSAGE_PLAYER)), 
    )

def block_content(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    pass
    yield u'\n  <div ng-controller="CollectionPlayer">\n    <background-banner></background-banner>\n    <div ng-if="collection" class="oppia-collection-player-tiles-container">\n      <h2 ng-if="!collectionPlaythrough.hasFinishedCollection()" class="oppia-page-heading" align="center">\n        <span ng-if="!collectionPlaythrough.hasStartedCollection()" class="oppia-collection-player-title-font">Begin <[collection.getTitle()]>:</span>\n        <span ng-if="collectionPlaythrough.hasStartedCollection()" class="oppia-collection-player-title-font">Continue <[collection.getTitle()]>:</span>\n      </h2>\n      <h2 ng-if="collectionPlaythrough.hasFinishedCollection()" class="oppia-page-heading">\n        <span>You have finished the collection! Feel free to replay any explorations below.</span>\n      </h2>\n\n      <div ng-if="collection" class="oppia-collection-path-section hidden-sm hidden-xs">\n        <svg width="500px" ng-attr-height="<[svgHeight + \'px\']>" xmlns="http://www.w3.org/2000/svg">\n          <path fill="none"\n                stroke="#296E5F"\n                stroke-dasharray="15,28"\n                stroke-linecap="round"\n                stroke-width="12"\n                d="M80 80 L220 80"/>\n          <path fill="none"\n                stroke="#296E5F"\n                stroke-dasharray="15,28"\n                stroke-linecap="round"\n                stroke-width="12"\n                ng-attr-d="<[pathSvgParameters]>"/>\n          <image ng-if="!collectionPlaythrough.hasStartedCollection()"\n                 x="175"\n                 y="100"\n                 height="100"\n                 width="100"\n                 ng-attr-xlink:href="<[getStaticImageUrl(\'/general/collection_start_here_arrow.svg\')]>"\n                 xlink:href="">\n          </image>\n          <text ng-if="!collectionPlaythrough.hasStartedCollection()"\n                x="210"\n                y="170"\n                alignment-baseline="middle"\n                font-family="Capriola, Roboto, Arial, sans-serif"\n                font-size="15"\n                fill="#E14738"\n                text-anchor="middle"\n                translate="I18N_START_HERE">\n          </text>\n        </svg>\n\n        <img ng-src="<[getStaticImageUrl(\'/general/collection_mascot.svg\')]>" class="collection-mascot">\n        <a ng-repeat="node in collection.getCollectionNodes()"\n           ng-href="<[getExplorationUrl(node.getExplorationId())]>"\n           ng-style="{position: \'absolute\', left: \'<[pathIconParameters[$index].left]>\', top: \'<[pathIconParameters[$index].top]>\'}">\n          <svg class="protractor-test-collection-exploration"\n               width="100"\n               height="125"\n               xmlns="http://www.w3.org/2000/svg"\n               xmlns:xlink="http://www.w3.org/1999/xlink"\n               version="1.1">\n            <defs>\n              <pattern id="image<[$index]>" patternUnits="userSpaceOnUse" height="150" width="100">\n                <circle cx="50"\n                        cy="70"\n                        r="50"\n                        ng-attr-fill="<[pathIconParameters[$index].thumbnailBgColor]>"/>\n                <image ng-if="isCompletedExploration(node.getExplorationId())"\n                       x="0"\n                       y="20"\n                       height="100"\n                       width="100"\n                       ng-attr-xlink:href="<[getStaticImageUrl(\'/general/collection_paw.svg\')]>"\n                       xlink:href="">\n                </image>\n                <image ng-if="!isCompletedExploration(node.getExplorationId())"\n                       x="10"\n                       y="30"\n                       height="80"\n                       width="80"\n                       ng-attr-xlink:href="<[getStaticImageUrl(pathIconParameters[$index].thumbnailIconUrl)]>"\n                       xlink:href="">\n                </image>\n              </pattern>\n            </defs>\n            <a xlink:href="<[getExplorationUrl(node.getExplorationId())]>"\n               ng-mouseover="updateExplorationPreview(node.getExplorationId());\n                             setIconHighlight($index);"\n               ng-mouseleave="togglePreviewCard();\n                              unsetIconHighlight($index);">\n              <circle ng-show="node.getExplorationId() === nextExplorationId &&\n                $index !== activeHighlightedIconIndex"\n                      cx="50"\n                      cy="70"\n                      r="50"\n                      id="<[\'highlight\' + $index]>"\n                      fill="#FF8C00"\n                      fill-opacity="0.5"/>\n              <circle ng-show="($index===activeHighlightedIconIndex)?true:false"\n                      cx="50"\n                      cy="70"\n                      r="50"\n                      id="<[\'highlight\' + $index]>"\n                      fill="#A6DACF"\n                      fill-opacity="0.5"/>\n              <circle cx="50"\n                      cy="70"\n                      r="42"\n                      fill="url(#image<[$index]>)"\n                      stroke="#006553"\n                      stroke-width="2"/>\n            </a>\n            <text x="50%"\n                  y="15"\n                  alignment-baseline="middle"\n                  font-family="Capriola, Roboto, Arial, sans-serif"\n                  font-size="20"\n                  fill="#006553"\n                  text-anchor="middle">\n              <[$index + 1]>\n            </text>\n          </svg>\n        </a>\n      </div>\n\n      <div ng-if="collection" class="oppia-collection-table hidden-md hidden-lg hidden-xl">\n        <img ng-src="<[getStaticImageUrl(\'/general/collection_mascot.svg\')]>" class="mobile-lesson-icon">\n        <div class="mobile-path-segment" ng-repeat="node in collection.getCollectionNodes()" id="mobile-path-anchor-<[$index]>">\n          <a href="" style="position: absolute; left: 50%; transform: translate(-50%, 195px); z-index: 1;">\n            <svg class="protractor-mobile-test-collection-exploration"\n                 width="100"\n                 height="150"\n                 xmlns="http://www.w3.org/2000/svg"\n                 xmlns:xlink="http://www.w3.org/1999/xlink"\n                 version="1.1"\n                 ng-click="scrollToLocation(\'mobile-path-anchor-\' + $index); updateExplorationPreview(node.getExplorationId());">\n              <image ng-if="!collectionPlaythrough.hasStartedCollection() && $index===0"\n                     x="0"\n                     y="83"\n                     height="80"\n                     width="100"\n                     ng-attr-xlink:href="<[getStaticImageUrl(\'/general/collection_start_here_arrow.svg\')]>"\n                     xlink:href="">\n              </image>\n              <text ng-if="!collectionPlaythrough.hasStartedCollection() && $index===0"\n                    x="50"\n                    y="140"\n                    alignment-baseline="middle"\n                    font-family="Capriola, Roboto, Arial, sans-serif"\n                    font-size="11"\n                    fill="#E14738"\n                    text-anchor="middle"\n                    translate="I18N_START_HERE">\n              </text>\n              <defs>\n                <pattern id="image0<[$index]>" patternUnits="userSpaceOnUse" height="150" width="100">\n                  <circle cx="50"\n                          cy="70"\n                          r="50"\n                          ng-attr-fill="<[pathIconParameters[$index].thumbnailBgColor]>"/>\n                  <image ng-if="isCompletedExploration(node.getExplorationId())"\n                         x="0"\n                         y="20"\n                         height="100"\n                         width="100"\n                         ng-attr-xlink:href="<[getStaticImageUrl(\'/general/collection_paw.svg\')]>"\n                         xlink:href="">\n                  </image>\n                  <image ng-if="!isCompletedExploration(node.getExplorationId())"\n                         x="10"\n                         y="30"\n                         height="80"\n                         width="80"\n                         ng-attr-xlink:href="<[getStaticImageUrl(pathIconParameters[$index].thumbnailIconUrl)]>"\n                         xlink:href="">\n                  </image>\n                </pattern>\n              </defs>\n              <circle ng-show="node.getExplorationId() === nextExplorationId &&\n                $index !== activeHighlightedIconIndex"\n                      cx="50"\n                      cy="70"\n                      r="50"\n                      id="<[\'highlight\' + $index]>"\n                      fill="#FF8C00"\n                      fill-opacity="0.5"/>\n              <circle ng-show="($index===activeHighlightedIconIndex)?true:false"\n                      cx="50"\n                      cy="70"\n                      r="50"\n                      id="<[\'highlight\' + $index]>"\n                      fill="#A6DACF"\n                      fill-opacity="0.5"/>\n              <circle cx="50"\n                      cy="70"\n                      r="42"\n                      fill="url(#image0<[$index]>)"\n                      stroke="#006553"\n                      stroke-width="2"/>\n              <text x="50%"\n                    y="15"\n                    alignment-baseline="middle"\n                    font-family="Capriola, Roboto, Arial, sans-serif"\n                    font-size="20"\n                    fill="#006553"\n                    text-anchor="middle">\n                <[$index + 1]>\n              </text>\n            </svg>\n          </a>\n          <img ng-src="<[getStaticImageUrl(\'/general/mobile_path_segment.svg\')]>">\n          <div style="position: fixed; z-index: 100; top: 0; left: 0;">\n            <div ng-class="{\'oppia-activity-summary-tile-mobile-background-mask\': explorationCardIsShown}" ng-click="closeOnClickingOutside()">\n              <exploration-summary-tile ng-if="explorationCardIsShown"\n                                        ng-click="onClickStopPropagation($event)"\n                                        collection-id="collectionId"\n                                        exploration-id="currentExplorationId"\n                                        exploration-title="summaryToPreview.title"\n                                        last-updated-msec="summaryToPreview.last_updated_msec"\n                                        objective="summaryToPreview.objective"\n                                        category="summaryToPreview.category"\n                                        ratings="summaryToPreview.ratings"\n                                        num-views="summaryToPreview.num_views"\n                                        thumbnail-icon-url="summaryToPreview.thumbnail_icon_url"\n                                        thumbnail-bg-color="summaryToPreview.thumbnail_bg_color"\n                                        is-community-owned="summaryToPreview.community_owned"\n                                        is-collection-preview-tile="true"\n                                        style="position: absolute; z-index: 10;">\n              </exploration-summary-tile>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n      <div ng-if="collection && collectionSummary" class="oppia-card-preview-panel hidden-sm hidden-xs">\n        <md-card class="oppia-activity-summary-tile md-default-theme">\n          <div class="title-section" style="background-color: <[collectionSummary.thumbnail_bg_color]>; z-index: 1;">\n            <img ng-src="<[getStaticImageUrl(collectionSummary.thumbnail_icon_url)]>" class="thumbnail-image">\n          </div>\n          <div class="title-section-mask objective oppia-activity-summary-tile-pre-hover-preview">\n            <span>Hover over an icon to preview an exploration.</span>\n          </div>\n        </md-card>\n        <exploration-summary-tile ng-if="explorationCardIsShown"\n                                  collection-id="collectionId"\n                                  exploration-id="currentExplorationId"\n                                  exploration-title="summaryToPreview.title"\n                                  last-updated-msec="summaryToPreview.last_updated_msec"\n                                  objective="summaryToPreview.objective"\n                                  category="summaryToPreview.category"\n                                  ratings="summaryToPreview.ratings"\n                                  num-views="summaryToPreview.num_views"\n                                  thumbnail-icon-url="summaryToPreview.thumbnail_icon_url"\n                                  thumbnail-bg-color="summaryToPreview.thumbnail_bg_color"\n                                  is-community-owned="summaryToPreview.community_owned"\n                                  style="position: absolute; left: 85px; top: 30px; z-index: 10;">\n        </exploration-summary-tile>\n      </div>\n    </div>\n  </div>\n\n  <attribution-guide></attribution-guide>\n\n'

def block_maintitle(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    l_0_collection_title = resolve('collection_title')
    pass
    yield u'\n  %s - Oppia\n' % (
        escape((undefined(name='collection_title') if l_0_collection_title is missing else l_0_collection_title)), 
    )

def block_header_js(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    l_0_super = context.super('header_js', block_header_js)
    l_0_collection_id = resolve('collection_id')
    l_0_is_logged_in = resolve('is_logged_in')
    t_1 = environment.filters['js_string']
    pass
    yield u'\n  %s\n  ' % (
        escape(context.call(l_0_super)), 
    )
    if (undefined(name='collection_id') if l_0_collection_id is missing else l_0_collection_id):
        pass
        yield u'\n    <script type="text/javascript">\n      GLOBALS.collectionId = JSON.parse(\'%s\');\n      GLOBALS.isLoggedIn = Boolean(JSON.parse(\'%s\'));\n    </script>\n\n    <style>\n      html, body {\n        background: #eeeeee no-repeat center center fixed;\n        background-size: cover;\n      }\n      .oppia-collection-path-section {\n        background: #fff;\n        border-radius: 2px;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.14), 0 2px 4px rgba(0, 0, 0, 0.23);\n        float: left;\n        margin-top: 20px;\n        max-width: 675px;\n        padding: 20px 20px 60px 20px;\n        position: absolute;\n        text-align: left;\n        top: 168px;\n      }\n      .oppia-collection-table {\n        margin: 0 auto;\n        max-width: 90%%;\n        padding: 50px 20px 420px 20px;\n        position: relative;\n        text-align: left;\n        top: 35px;\n        width: 100%%;\n      }\n      .oppia-card-preview-panel {\n        background: #fff;\n        border-radius: 2px;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.14), 0 2px 4px rgba(0, 0, 0, 0.23);\n        left: 50%%;\n        padding: 30px 85px 70px 85px;\n        pointer-events: none;\n        position: fixed;\n        text-align: left;\n        top: 244px;\n        transform: translateX(29%%);\n      }\n      .collection-mascot {\n        left: 40px;\n        position: absolute;\n        top: 40px;\n        width: 120px;\n      }\n      @media only screen and (max-width : 600px) {\n        .oppia-collection-player-title-font {\n          font-size: 32px;\n        }\n      }\n      /* To avoid double shadows caused by overlaying preview card\n      over the blank preview card */\n      .exploration-summary-tile md-card {\n        box-shadow: none;\n      }\n      .mobile-path-segment {\n        margin: 0 auto;\n        width: 250px;\n      }\n      .mobile-lesson-icon {\n        position: absolute;\n        left: 50%%;\n        transform: translate(-50%%, -50%%);\n        width: 100px;\n      }\n\n      @media only screen and (max-width: 998px) {\n        .oppia-activity-summary-tile-mobile-background-mask {\n          align-items: center;\n          background: rgba(0,0,0,0.25);\n          display: flex;\n          height: 100vh;\n          justify-content: space-around;\n          width: 100vw;\n          z-index: -1;\n        }\n      }\n\n    </style>\n  ' % (
            escape(t_1((undefined(name='collection_id') if l_0_collection_id is missing else l_0_collection_id))), 
            escape(t_1((undefined(name='is_logged_in') if l_0_is_logged_in is missing else l_0_is_logged_in))), 
        )
    yield u'\n'

def block_navbar_breadcrumb(context, missing=missing):
    resolve = context.resolve_or_missing
    undefined = environment.undefined
    if 0: yield None
    l_0_collection_title = resolve('collection_title')
    pass
    yield u'\n  <ul class="nav navbar-nav oppia-navbar-breadcrumb">\n    <li>\n      <span class="oppia-navbar-breadcrumb-separator"></span>\n      <span>%s</span>\n    </li>\n  </ul>\n' % (
        escape((undefined(name='collection_title') if l_0_collection_title is missing else l_0_collection_title)), 
    )

blocks = {'footer_js': block_footer_js, 'local_top_nav_options': block_local_top_nav_options, 'footer': block_footer, 'content': block_content, 'maintitle': block_maintitle, 'header_js': block_header_js, 'navbar_breadcrumb': block_navbar_breadcrumb}
debug_info = '1=11&383=17&384=24&105=27&107=35&109=38&379=42&380=49&118=52&3=59&4=66&7=69&8=79&9=81&11=84&12=85&96=89&100=96'